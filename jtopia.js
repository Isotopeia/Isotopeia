var crs=0,uniqueItems=[];function parseToJs(jsonStr,pushToJtopiaList=!0){var j;try{j=JSON.parse(localStorage.getItem("jtopia")),j.push(JSON.parse(jsonStr)),pushToJtopiaList||localStorage.setItem("jtopia",JSON.stringify(j))}catch{return LoggerIso.logInfo("jtopia localStorage missing, either old version or save broke or something else, resetting to stock upgrades"),localStorage.setItem("jtopia",stockBuildingsJsonStr),[]}var jsond=JSON.parse(jsonStr),li=[];return j.forEach(json=>{var b=null==json.buildings?{e:[],en:[]}:json.buildings,cb=json.customBehaviors,eb=(eval(cb),b.e),enb=b.en,ub=b.u;try{eb.forEach(e=>{e=new BuildingE(e.price,e.name,e.perSecond,e.id,crs);hooks.push(e),uniqueItems.push(e),li.push(e),crs++})}catch{}try{enb.forEach(e=>{e=new BuildingEN(e.price,e.name,e.perSecond,e.id,crs);hooks.push(e),uniqueItems.push(e),li.push(e),crs++})}catch{}try{ub.forEach(e=>{e=new BuildingU(e.price,e.name,e.perSecond,e.id,crs);hooks.push(e),uniqueItems.push(e),li.push(e),crs++})}catch{}}),addItems(),li}