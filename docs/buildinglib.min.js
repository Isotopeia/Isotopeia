var prestigeCalc=(t,e,i)=>Math.floor(t/1e9+e/1e9+Math.sqrt(i)/1e15);function confirmPrestige(){confirm("Are you sure you want to prestige? This is irreversible and you will gain "+prestigeCalc(elncn,elnncn,upcn).toString()+" prestige points.")&&(localStorage.setItem("ucc",[0,0,0]),localStorage.setItem("upg",[0,0,[]]),localStorage.setItem("cst",[0,0]),localStorage.setItem("tl",'[[""]]'),localStorage.setItem("jtopia","[]"),localStorage.setItem("prestige",null==localStorage.getItem("prestige")?prestigeCalc(elncn,elnncn,upcn):parseInt(localStorage.getItem("prestige"))+prestigeCalc(elncn,elnncn,upcn)),location.reload())}var prestigeLevel=null==localStorage.getItem("prestige")?0:parseInt(localStorage.getItem("prestige"));function countOf(e){var i=0;try{toload.forEach(t=>{t=t.replace(/(new Building[A-Z]+)?/g,"");JSON.parse("["+t.replace(/\'/g,'"').substring(1,t.length-1)+"]")[3]==e&&i++})}catch{}return i}document.getElementById("statsid").innerHTML+="<h2>Prestige</h2> Positrons: <span id='prestigeval'>0</span><br /><button onclick='confirmPrestige();'>Prestige for poistrons</button>",document.getElementById("prestigeval").innerHTML=prestigeLevel;class BuildingEN{constructor(t,e,i,s,n){this.price=t,this.name=e,this.ps=i,this.id=s,this.rspot=n,this.count=countOf(this.id),runners.push(()=>{if(elnncn>=this.price-this.price/4)try{document.getElementById(s).style.display="block",document.getElementById(s+"2").style.display="block"}catch{}if(elnncn>=this.price)try{document.getElementById(s).removeAttribute("disabled")}catch{}})}buy(){elnncn>=this.price?(elnncn-=this.price,this.price=Math.floor(1.25*this.price),document.getElementById(this.id+"uc").innerHTML=this.price+" V<sub>e</sub> | Count: "+(this.count+1),document.getElementById(this.id).setAttribute("onclick",`new BuildingEN(${this.price}, '${this.name}', ${this.ps}, '${this.id}').buy();  update();`),this.interval(),tosave[this.rspot]+=1,toload.push(`new BuildingEN(${this.price}, '${this.name}', ${this.ps}, '${this.id}')`),save()):console.log("not enough")}interval(){window.setInterval(()=>{electronn(this.ps*Math.floor(1+prestigeLevel)),update()},1e3)}buildUI(t=!1){console.log(document.getElementById(this.id)),null==document.getElementById(this.id)||t?document.getElementById("upgr").insertAdjacentHTML("afterend",`
            <button id="${this.id}" disabled onclick=" new BuildingEN(${this.price}, '${this.name}', ${this.ps}, '${this.id}').buy();  update();" style="display: none;">${this.name}</button>
            <p id="${this.id}2" style="display: none;">Cost: <span id="${this.id}uc">${this.price} V<sub>e</sub> | Count: ${this.count}</span></p>
            <br />`):console.log("buildUI exists")}refreshCount(){this.count=countOf(this.id),document.getElementById(this.id+"uc").innerHTML=this.price+" V<sub>e</sub> | Count: "+(this.count+1)}}class BuildingE{constructor(t,e,i,s,n){this.price=t,this.name=e,this.ps=i,this.id=s,this.rspot=n,this.count=countOf(this.id),runners.push(()=>{if(elncn>=this.price-this.price/4)try{document.getElementById(s).style.display="block",document.getElementById(s+"2").style.display="block"}catch{}if(elncn>=this.price)try{document.getElementById(s).removeAttribute("disabled")}catch{}})}buy(){elncn>=this.price?(elncn-=this.price,this.price=Math.floor(1.25*this.price),document.getElementById(this.id+"uc").innerHTML=this.price+" e<sup>-</sup> | Count: "+(this.count+1),document.getElementById(this.id).setAttribute("onclick",`new BuildingE(${this.price}, '${this.name}', ${this.ps}, '${this.id}').buy();  update();`),this.interval(),tosave[this.rspot]+=1,toload.push(`new BuildingE(${this.price}, '${this.name}', ${this.ps}, '${this.id}')`)):console.log("not enough")}interval(){window.setInterval(()=>{elncn+=this.ps*Math.floor(1+prestigeLevel),update()},1e3)}buildUI(t=!1){null!=document.getElementById(this.id)&&!t||document.getElementById("upgr").insertAdjacentHTML("afterend",`
			<button id="${this.id}" disabled onclick=" new BuildingE(${this.price}, '${this.name}', ${this.ps}, '${this.id}').buy();  update();" style="display: none;">${this.name}</button>
			<p id="${this.id}2" style="display: none;">Cost: <span id="${this.id}uc">${this.price} e<sup>-</sup> | Count: ${this.count}</span></p>
			<br />`)}refreshCount(){this.count=countOf(this.id),document.getElementById(this.id+"uc").innerHTML=this.price+" e<sup>-</sup> | Count: "+(this.count+1)}}class BuildingU{constructor(t,e,i,s,n){this.price=t,this.name=e,this.ps=i,this.id=s,this.rspot=n,this.count=countOf(this.id),runners.push(()=>{if(upcn>=this.price-this.price/4)try{document.getElementById(s).style.display="block",document.getElementById(s+"2").style.display="block"}catch{}if(upcn>=this.price)try{document.getElementById(s).removeAttribute("disabled")}catch{}})}buy(){upcn>=this.price?(upcn-=this.price,this.price=Math.floor(1.25*this.price),document.getElementById(this.id+"uc").innerHTML=this.price+" u | Count: "+(this.count+1),document.getElementById(this.id).setAttribute("onclick",`new BuildingU(${this.price}, '${this.name}', ${this.ps}, '${this.id}').buy();  update();`),this.interval(),tosave[this.rspot]+=1,toload.push(`new BuildingU(${this.price}, '${this.name}', ${this.ps}, '${this.id}')`)):console.log("not enough")}interval(){window.setInterval(()=>{upcn+=this.ps*Math.floor(1+prestigeLevel),update()},1e3)}buildUI(t=!1){null!=document.getElementById(this.id)&&!t||document.getElementById("upgr").insertAdjacentHTML("afterend",`
			<button id="${this.id}" disabled onclick=" new BuildingU(${this.price}, '${this.name}', ${this.ps}, '${this.id}').buy();  update();" style="display: none;">${this.name}</button>
			<p id="${this.id}2" style="display: none;">Cost: <span id="${this.id}uc">${this.price} u | Count: ${this.count}</span></p>
			<br />`)}refreshCount(){this.count=countOf(this.id),document.getElementById(this.id+"uc").innerHTML=this.price+" u | Count: "+(this.count+1)}}