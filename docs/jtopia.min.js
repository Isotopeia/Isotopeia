var crs=16;function parseToJs(jsonStr){try{var j=JSON.parse(localStorage.getItem("jtopia"));j.push(JSON.parse(jsonStr)),localStorage.setItem("jtopia",JSON.stringify(j))}catch{return localStorage.setItem("jtopia","[]"),[]}var jsond=JSON.parse(jsonStr),li=[];return j.forEach(json=>{var b=null==json.buildings?{e:[],en:[]}:json.buildings,s=null==json.subsidies?[{}]:json.subsidies,cb=(console.log(s),json.customBehaviors),eb=(eval(cb),b.e),enb=b.en,ub=b.u;eb.forEach(o=>{console.log("adding modded eb "+o.id);o=new BuildingE(o.price,o.name,o.perSecond,o.id,crs);hooks.push(o),li.push(o),crs++}),enb.forEach(o=>{console.log("adding modded enb "+o.id);o=new BuildingEN(o.price,o.name,o.perSecond,o.id,crs);hooks.push(o),li.push(o),crs++}),ub.forEach(o=>{console.log("adding modded ub "+o.id);o=new BuildingU(o.price,o.name,o.perSecond,o.id,crs);hooks.push(o),li.push(o),crs++}),s.forEach(o=>{console.log("adding modded s "+o.id);o=new Subsidy(o.price,o.name,o.id,o.amount);hooks.push(o),li.push(o)})}),addItems(),li}