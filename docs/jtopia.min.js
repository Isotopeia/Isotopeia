var crs=16;function parseToJs(jsonStr){try{var j=JSON.parse(localStorage.getItem("jtopia"));j.push(JSON.parse(jsonStr)),localStorage.setItem("jtopia",JSON.stringify(j))}catch{return localStorage.setItem("jtopia","[]"),[]}var jsond=JSON.parse(jsonStr),li=[];return j.forEach(json=>{var b=null==json.buildings?{e:[],en:[]}:json.buildings,s=null==json.subsidies?[{}]:json.subsidies;console.log(s);var cb=json.customBehaviors;eval(cb);var eb=b.e,enb=b.en,ub=b.u;eb.forEach(a=>{console.log("adding modded eb "+a.id);var b=new BuildingE(a.price,a.name,a.perSecond,a.id,crs);hooks.push(b),li.push(b),crs++}),enb.forEach(a=>{console.log("adding modded enb "+a.id);var b=new BuildingEN(a.price,a.name,a.perSecond,a.id,crs);hooks.push(b),li.push(b),crs++}),ub.forEach(a=>{console.log("adding modded ub "+a.id);var b=new BuildingU(a.price,a.name,a.perSecond,a.id,crs);hooks.push(b),li.push(b),crs++}),s.forEach(a=>{console.log("adding modded s "+a.id);var b=new Subsidy(a.price,a.name,a.id,a.amount);hooks.push(b),li.push(b)})}),addItems(),li}